---
title: "Mini-Taller"
subtitle: "Introducción al análisis de datos con R"
author: "Mg. José A. Lastra"
institute: "Laboratorio Geo-Información y Percepción Remota"
date: "`r format(Sys.time(), '%d/%m/%Y')`"
output:
  xaringan::moon_reader:
    css: [fc]
    lib_dir: libs
    nature:
      highlightStyle: github
      ratio: '16:9'
      highlightLines: true
      countIncrementalSlides: false
      beforeInit: "macros.js"
      
---

background-image: url(logo_labgrs_color.png)
background-position: center
background-size:50%

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(corrplot)
library(readxl)
library(npphen)
library(TTR)
library(scales)
library(ggplot2)
library(tidyquant)
library(dplyr)
library(DT)

```

---
class: inverse, center, middle

# INTRODUCCIÓN

---
#Lectura básica de datos

```{r ,eval=T, echo=T, error=FALSE,warning=FALSE,message=FALSE}

#read data frames
CTD<-read_excel("Araucania2018_CTD_C1.xls")
```


```{r echo=F}
CTD %>% 
  datatable(class = 'cell-border stripe',rownames = FALSE,options = list(pageLength = 5))
```

---
# Seleccionando datos dentro de nuestro data frame
# Columnas

- Seleccionar datos puede ser bastante flexible y dependerá de lo que nos resulte más cómodo o más eficiente.
--
```{r  echo=T,eval=T}
#Forma 1
CTD.sub<-as.data.frame(CTD[,6:9])

```

```{r echo=F}
CTD.sub %>% 
  datatable(class = 'cell-border stripe',rownames = FALSE,options = list(pageLength = 5))
```
---
--
```{r  echo=T,eval=T}
#Forma 2
columnas<-colnames(CTD)[6:9]
CTD.sub<-as.data.frame(CTD[,columnas])

```

```{r echo=F}
CTD.sub %>% 
  datatable(class = 'cell-border stripe',rownames = FALSE,options = list(pageLength = 5))
```

---
--
```{r  echo=T,eval=T}
#Forma 3
CTD.sub<-CTD %>% select(`Temperatura (°C)`, `Sigma T (Kg/m3)`, `Salinidad (UPS)`,`Oxigeno (ml/L)`)

```

```{r echo=F}
CTD.sub %>% 
  datatable(class = 'cell-border stripe',rownames = FALSE,options = list(pageLength = 5))
```
---

# Filas

.pull-left[
```{r ex1,eval=F}
las<-readLAS('02_LiDAR/01_Muestra/648_5830_3.laz’)
46.86 segundos#<<
```
]
.pull-right[
```{r ex2,eval=F}
las<-readLAScatalog('02_LiDAR/01_Muestra/648_5830_3.laz’)
3.48 segundos#<<
```
]


--
- La función *readLAScatalog()* permite el procesamiento de un archivo completo o de un conjunto de archivos considerando parámetros fijados por el usuario.

--
- Optimiza el proceso de lectura y permite el trabajo multinúcleo.

--
- Se pueden aplicar las funciones a todos los archivos considerando procesamiento *wall-to-wall*, asegurando ajuste entre los archivos y chunks procesados

---

# Resolviendo laboratorio 2
##Correlación
```{r eval=T,echo=F,fig.retina=T,warning=F,message=F,error=F}
library(sf)
library(plotly)
shp<-read_sf('CIMAR 20/cimar_20_dots.shp')
chile<-read_sf('cl_continental_geo.shp')


ggplot() + geom_sf(data = shp) + theme_bw()



```


---

class: center, middle

# GRACIAS POR SU ATENCIÓN

.center[![:scale 50%](logo_labgrs_color.png)]
---

class: inverse,center, middle





